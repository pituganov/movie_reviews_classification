get_data:
  cmd: make download_data
  outs:
  - path: data/raw/labeledTrainData.tsv
    md5: a1f99a7f1243b44652a331770c96ebc0
  - path: data/raw/testData.tsv
    md5: 82b3d9315acceb41fbe0a6f3965f22cf
  - path: data/raw/unlabeledTrainData.tsv
    md5: 47fb9a55b979976093a091df9430bd3b
split:
  cmd: python movie_reviews_classification/data/train_valid_split.py data/raw/labeledTrainData.tsv
    data/interim --column sentiment
  deps:
  - path: data/raw/labeledTrainData.tsv
    md5: a1f99a7f1243b44652a331770c96ebc0
  - path: movie_reviews_classification/data/train_valid_split.py
    md5: 3522cc2345d3942074d8093eba1609fe
  params:
    params.yaml:
      data.test_size: 0.3
  outs:
  - path: data/interim/labeledTrainData.train.csv
    md5: 3ca24a852488babebe5e0423ab22885d
  - path: data/interim/labeledTrainData.valid.csv
    md5: eb3570898c46ef96e35668539374933a
train:
  cmd: nohup python -m deeppavlov train models/tfidf_logreg.json -d > data/logs/tfidf_logreg.log;
    tail -n 2 data/logs/tfidf_logreg.log | head -n 1 > /tmp/train_log.json; tail -n
    1 data/logs/tfidf_logreg.log > /tmp/valid_log.json; jq -s '.[0] * .[1]' /tmp/train_log.json
    /tmp/valid_log.json > data/summary/sentiment.json
  deps:
  - path: data/interim/labeledTrainData.train.csv
    md5: 3ca24a852488babebe5e0423ab22885d
  - path: data/interim/labeledTrainData.valid.csv
    md5: eb3570898c46ef96e35668539374933a
  - path: models/tfidf_logreg.json
    md5: 9d79424a5fbd30e8dae28baa6cdfcb6b
  outs:
  - path: data/logs/tfidf_logreg.log
    md5: 23d05bd151d5e35e6634b32910157390
  - path: data/summary/sentiment.json
    md5: f5e411111f8077a3014a8b30e0fd7b90
  - path: models_data/classifiers/sentiment_tfidf_logreg
    md5: 8896cf6f60eb4cc68f7cfc789c840df3.dir
